import{a as C,b as v,c as p,e as b,f as G}from"./chunk-F3TAZSZC.js";import{A as f,D as a,Qb as q,Rb as x,Ta as h,Tb as I,Vb as R,W as r,Xb as S,_ as l,bc as D,eb as g,hc as m,n as u,ob as A,r as c,s as i,z as d}from"./chunk-SVTE6IGV.js";var F={production:!0,firebase:{apiKey:"AIzaSyBqsizLRacxgdF4IZd0W3lI9t3DU31sMJs",authDomain:"test-database-faa54.firebaseapp.com",projectId:"test-database-faa54",storageBucket:"test-database-faa54.firebasestorage.app",messagingSenderId:"561906414923",appId:"1:561906414923:web:c5f911d0009a914260a4ce",measurementId:"G-VYER9XFZSW"}};var n=()=>{let t=r(m),o=r(p);return t.user$.pipe(d(e=>e!==void 0),c(5e3),a(1),i(e=>(console.log("AuthGuard: User state:",e),e?(console.log("AuthGuard: User is authenticated, allowing access"),!0):(console.log("AuthGuard: User is not authenticated, redirecting to login"),o.navigate(["/login"]),!1))),f(e=>(console.error("AuthGuard: Error or timeout, redirecting to login:",e),o.navigate(["/login"]),u(!1))))};var y=()=>{let t=r(m),o=r(p);return t.isAdmin().pipe(a(1),i(e=>e?!0:(o.navigate(["/quotes"]),!1)))};var w=[{path:"",redirectTo:"/quotes",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-O5SVC3YR.js").then(t=>t.LoginComponent)},{path:"debug",loadComponent:()=>import("./chunk-3VQGE57Y.js").then(t=>t.DebugAuthComponent)},{path:"quotes",loadComponent:()=>import("./chunk-ONMJPSLU.js").then(t=>t.QuotesComponent),canActivate:[n]},{path:"add-quote",loadComponent:()=>import("./chunk-FVYHIDHG.js").then(t=>t.AddQuoteComponent),canActivate:[n]},{path:"pending-quotes",loadComponent:()=>import("./chunk-7AXD73GS.js").then(t=>t.PendingQuotesComponent),canActivate:[n]},{path:"admin",loadComponent:()=>import("./chunk-I2E2TQZC.js").then(t=>t.AdminComponent),canActivate:[n,y]},{path:"**",redirectTo:"/quotes"}];var M={providers:[A({eventCoalescing:!0}),b(w,G()),q(()=>x(F.firebase)),S(()=>D()),I(()=>R())]};var s=class t{title="quotes-applictation";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-root"]],standalone:!0,features:[g],decls:1,vars:0,template:function(e,U){e&1&&h(0,"router-outlet")},dependencies:[v],encapsulation:2})};C(s,M).catch(t=>console.error(t));
