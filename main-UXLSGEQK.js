import{a as C,b as v,c as p,d as b}from"./chunk-V5UMPPQC.js";import{A as f,D as a,Nb as G,Ob as q,Qa as h,Qb as x,Sb as I,Ub as R,W as r,_ as l,_b as S,bb as g,ec as m,lb as A,n as u,r as c,s as i,z as d}from"./chunk-WXRRZLAK.js";var D={production:!0,firebase:{apiKey:"AIzaSyBqsizLRacxgdF4IZd0W3lI9t3DU31sMJs",authDomain:"test-database-faa54.firebaseapp.com",projectId:"test-database-faa54",storageBucket:"test-database-faa54.firebasestorage.app",messagingSenderId:"561906414923",appId:"1:561906414923:web:c5f911d0009a914260a4ce",measurementId:"G-VYER9XFZSW"}};var n=()=>{let t=r(m),o=r(p);return t.user$.pipe(d(e=>e!==void 0),c(5e3),a(1),i(e=>(console.log("AuthGuard: User state:",e),e?(console.log("AuthGuard: User is authenticated, allowing access"),!0):(console.log("AuthGuard: User is not authenticated, redirecting to login"),o.navigate(["/login"]),!1))),f(e=>(console.error("AuthGuard: Error or timeout, redirecting to login:",e),o.navigate(["/login"]),u(!1))))};var F=()=>{let t=r(m),o=r(p);return t.isAdmin().pipe(a(1),i(e=>e?!0:(o.navigate(["/quotes"]),!1)))};var y=[{path:"",redirectTo:"/quotes",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-UTWJ3NET.js").then(t=>t.LoginComponent)},{path:"debug",loadComponent:()=>import("./chunk-N445EV5P.js").then(t=>t.DebugAuthComponent)},{path:"quotes",loadComponent:()=>import("./chunk-FE6UYVLQ.js").then(t=>t.QuotesComponent),canActivate:[n]},{path:"add-quote",loadComponent:()=>import("./chunk-MLW4CMHO.js").then(t=>t.AddQuoteComponent),canActivate:[n]},{path:"pending-quotes",loadComponent:()=>import("./chunk-VFLUXIZA.js").then(t=>t.PendingQuotesComponent),canActivate:[n]},{path:"admin",loadComponent:()=>import("./chunk-4AZYP77P.js").then(t=>t.AdminComponent),canActivate:[n,F]},{path:"**",redirectTo:"/quotes"}];var M={providers:[A({eventCoalescing:!0}),b(y),G(()=>q(D.firebase)),R(()=>S()),x(()=>I())]};var s=class t{title="quotes-applictation";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-root"]],standalone:!0,features:[g],decls:1,vars:0,template:function(e,U){e&1&&h(0,"router-outlet")},dependencies:[v],encapsulation:2})};C(s,M).catch(t=>console.error(t));
